<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experbat - Prototype Interactif</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .screen {
            display: none;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            padding: 40px;
            animation: slideIn 0.3s ease-out;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .logo {
            width: 140px;
            height: 48px;
            background: linear-gradient(135deg, #0EA5E9, #06b6d4);
            border-radius: 8px;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
            letter-spacing: 1px;
        }
        
        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0EA5E9, #10b981);
            transition: width 0.4s ease-out;
            border-radius: 10px;
        }
        
        .progress-text {
            text-align: center;
            color: #64748b;
            font-size: 13px;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        h2 {
            font-size: 22px;
            color: #1e293b;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        p {
            color: #475569;
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 15px;
        }
        
        .info-box {
            background: #f0f9ff;
            border-left: 4px solid #0EA5E9;
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.8;
        }
        
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 25px 0;
        }
        
        .choice-button {
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 15px;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 12px;
            text-align: left;
        }
        
        .choice-button:hover {
            border-color: #0EA5E9;
            background: #f0f9ff;
            transform: translateX(4px);
        }
        
        .choice-button.selected {
            border-color: #0EA5E9;
            background: #e0f2fe;
            font-weight: 600;
        }
        
        .emoji {
            font-size: 22px;
            flex-shrink: 0;
        }
        
        .input-field, textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            transition: border-color 0.2s;
            margin: 10px 0;
        }
        
        .input-field:focus, textarea:focus {
            outline: none;
            border-color: #0EA5E9;
        }
        
        textarea {
            resize: vertical;
            line-height: 1.6;
            min-height: 100px;
        }
        
        .help-text {
            color: #64748b;
            font-size: 13px;
            margin-top: 8px;
            line-height: 1.5;
        }
        
        .section-divider {
            border-top: 2px solid #f1f5f9;
            margin: 30px 0 20px;
            padding-top: 20px;
        }
        
        .section-title {
            font-size: 15px;
            color: #334155;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        /* Budget slider */
        .budget-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(135deg, #f0f9ff 0%, #f0fdf4 100%);
            border-radius: 12px;
        }
        
        .budget-item {
            flex: 1;
            text-align: center;
        }
        
        .budget-label {
            font-size: 11px;
            color: #64748b;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        
        .budget-value {
            font-size: 24px;
            font-weight: 700;
        }
        
        .budget-min .budget-value {
            color: #0EA5E9;
        }
        
        .budget-max .budget-value {
            color: #10b981;
        }
        
        .budget-arrow {
            font-size: 20px;
            color: #cbd5e1;
            padding: 0 15px;
        }
        
        .slider-wrapper {
            margin: 25px 0;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e2e8f0;
            appearance: none;
            cursor: pointer;
        }
        
        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #0EA5E9;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #0EA5E9;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 11px;
            color: #64748b;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: #f8fafc;
            border-radius: 10px;
            cursor: pointer;
            margin: 15px 0;
        }
        
        .checkbox-group:hover {
            background: #f1f5f9;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .checkbox-label {
            font-size: 14px;
            color: #334155;
            cursor: pointer;
            flex: 1;
        }
        
        .document-checkboxes {
            display: grid;
            gap: 10px;
        }
        
        .document-checkbox-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .document-checkbox-item:hover {
            border-color: #0EA5E9;
            background: #f0f9ff;
        }
        
        .document-checkbox-item input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .document-checkbox-item label {
            font-size: 14px;
            color: #334155;
            cursor: pointer;
            flex: 1;
        }
        
        .primary-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
        }
        
        .secondary-button {
            width: 100%;
            padding: 16px;
            background: white;
            color: #0EA5E9;
            border: 2px solid #0EA5E9;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
            transition: all 0.2s;
        }
        
        .secondary-button:hover {
            background: #f0f9ff;
        }
        
        .nav-buttons {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }
        
        .nav-button-back {
            padding: 14px 24px;
            background: white;
            color: #64748b;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 600;
        }
        
        .nav-button-back:hover {
            border-color: #cbd5e1;
            background: #f8fafc;
        }
        
        .nav-button-next {
            flex: 1;
            padding: 14px 24px;
            background: #0EA5E9;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .nav-button-next:hover {
            background: #0284c7;
            transform: translateX(2px);
        }
        
        .privacy-note {
            background: #fef3c7;
            border: 1px solid #fcd34d;
            padding: 14px;
            border-radius: 10px;
            font-size: 12px;
            color: #78350f;
            text-align: center;
            margin-top: 25px;
            line-height: 1.6;
        }
        
        .result-summary {
            background: #f0f9ff;
            border: 2px solid #0EA5E9;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #bae6fd;
            font-size: 14px;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            color: #0369a1;
            font-weight: 600;
        }
        
        .result-value {
            color: #334155;
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .screen {
                padding: 25px 20px;
            }
            
            .budget-display {
                flex-direction: column;
                gap: 15px;
            }
            
            .budget-arrow {
                transform: rotate(90deg);
            }
            
            h2 {
                font-size: 19px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- √âCRAN 0 : Accueil -->
        <div class="screen active" id="screen-0">
            <div class="logo">EXPERBAT</div>
            
            <p>
                Vous avez un projet de construction ou de r√©novation ? Nous allons vous poser <strong>quelques questions simples</strong> pour bien comprendre votre projet, son avancement et vos besoins.
            </p>
            
            <p>
                Gr√¢ce √† vos r√©ponses, nous pourrons vous proposer <strong>un conseil personnalis√© sur les √©tapes cl√©s de votre projet</strong> et vous recommander <strong>les experts les mieux adapt√©s</strong> √† votre situation, techniquement et financi√®rement.
            </p>
            
            <div class="info-box">
                ‚úì <strong>Gratuit</strong><br>
                ‚úì <strong>2-3 minutes</strong><br>
                ‚úì <strong>Sans engagement</strong>
            </div>
            
            <button class="primary-button" onclick="goToScreen(1)">
                <span>D√©marrer mon projet</span>
                <span>üöÄ</span>
            </button>
            
            <div class="privacy-note">
                üîí Confidentialit√© garantie : vos informations sont utilis√©es uniquement pour ce projet et ne seront jamais partag√©es sans votre accord.
            </div>
        </div>
        
        <!-- √âCRAN 1 : Type de projet -->
        <div class="screen" id="screen-1">
            <div class="progress-text">Question 1 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 14%"></div>
            </div>
            
            <h2>Pour commencer, quel est votre projet ?</h2>
            
            <div class="button-group" id="type-buttons">
                <div class="choice-button" onclick="selectChoice(this, 'type', 'Construction neuve')">
                    <span class="emoji">üèóÔ∏è</span>
                    <span>Construction neuve</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'type', 'Extension')">
                    <span class="emoji">üî®</span>
                    <span>Extension / Agrandissement</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'type', 'R√©novation')">
                    <span class="emoji">‚ôªÔ∏è</span>
                    <span>R√©novation / R√©habilitation</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'type', 'D√©molition')">
                    <span class="emoji">üèöÔ∏è</span>
                    <span>D√©molition puis reconstruction</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'type', 'Je ne sais pas')">
                    <span class="emoji">ü§î</span>
                    <span>Je ne sais pas encore</span>
                </div>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ D√©taillons un peu votre projet</div>
                <textarea id="type-details" placeholder="Pouvez-vous nous faire part de vos objectifs et de vos souhaits ? Dites-nous notamment combien de logements et le nombre de pi√®ces que vous souhaitez, ou si le projet aura d'autres destinations (commerces, bureaux, etc.)...

Exemple : &quot;Maison individuelle de 4 chambres avec bureau, conception bioclimatique adapt√©e au climat tropical&quot;"></textarea>
                <div class="help-text">üí° Ces informations aident l'IA √† mieux comprendre vos besoins sp√©cifiques</div>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(0)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(2)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 2 : Avancement -->
        <div class="screen" id="screen-2">
            <div class="progress-text">Question 2 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 28%"></div>
            </div>
            
            <h2>O√π en √™tes-vous dans votre r√©flexion ?</h2>
            
            <div class="button-group" id="avancement-buttons">
                <div class="choice-button" onclick="selectChoice(this, 'avancement', 'Id√©e')">
                    <span class="emoji">üí≠</span>
                    <span>Id√©e en t√™te (phase exploration)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'avancement', 'D√©fini')">
                    <span class="emoji">üìù</span>
                    <span>Projet d√©fini (je sais ce que je veux)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'avancement', 'Plans')">
                    <span class="emoji">üìê</span>
                    <span>Plans d√©j√† dessin√©s</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'avancement', 'Pr√™t')">
                    <span class="emoji">üèóÔ∏è</span>
                    <span>Pr√™t √† lancer les travaux</span>
                </div>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ Pr√©cisez votre situation si vous le souhaitez</div>
                <textarea id="avancement-details" placeholder="Avez-vous d√©j√† consult√© des professionnels ? Disposez-vous de documents (esquisses, devis, √©tudes...) ? Y a-t-il des contraintes de timing particuli√®res ?

Exemple : &quot;J'ai fait une premi√®re esquisse avec un architecte mais je cherche un second avis&quot;"></textarea>
                <div class="help-text">üí° Ces d√©tails permettent √† l'expert de mieux pr√©parer votre premier rendez-vous</div>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(1)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(3)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 3 : Localisation -->
        <div class="screen" id="screen-3">
            <div class="progress-text">Question 3 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 42%"></div>
            </div>
            
            <h2>O√π se situe votre projet ?</h2>
            
            <input type="text" class="input-field" id="localisation" placeholder="Ex : Saint-Pierre, La R√©union">
            <div class="help-text">üí° Commencez √† taper, nous vous proposerons des suggestions</div>
            
            <div style="margin-top: 20px;">
                <div class="section-title">Adresse pr√©cise ou r√©f√©rences cadastrales (optionnel)</div>
                <input type="text" class="input-field" id="adresse-precise" placeholder="Ex : 25 Rue des Lilas ou Parcelle AB 123">
            </div>
            
            <div class="info-box" style="margin-top: 20px;">
                <strong>‚ÑπÔ∏è V√©rification des contraintes r√©glementaires</strong><br><br>
                Lors de votre rendez-vous, l'expert v√©rifiera avec vous les √©ventuelles contraintes sp√©cifiques √† votre localisation (zones PPR, ABF, sismicit√©, r√®gles d'urbanisme PLU).<br><br>
                <strong>Important :</strong> Les bases de donn√©es en ligne ne sont pas toujours √† jour. Seule une v√©rification officielle fait foi.
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ Connaissez-vous des contraintes particuli√®res ?</div>
                <textarea id="contraintes" placeholder="Exemple : Zone inondable, proximit√© d'un monument historique, servitude de passage..."></textarea>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(2)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(4)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 4 : Surface -->
        <div class="screen" id="screen-4">
            <div class="progress-text">Question 4 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 57%"></div>
            </div>
            
            <h2>Quelle est la surface approximative de votre projet ?</h2>
            
            <input type="number" class="input-field" id="surface" placeholder="Ex : 120" value="120">
            <div class="help-text">üí° Pas besoin d'√™tre pr√©cis au m¬≤ pr√®s, une estimation suffit !</div>
            
            <div class="slider-wrapper" style="margin-top: 25px;">
                <input type="range" class="slider" id="surface-slider" min="20" max="500" value="120" 
                       oninput="document.getElementById('surface').value = this.value">
                <div class="slider-labels">
                    <span>20 m¬≤</span>
                    <span>260 m¬≤</span>
                    <span>500 m¬≤</span>
                </div>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ Pr√©cisions sur les surfaces et volumes (optionnel)</div>
                <textarea id="surface-details" placeholder="D√©taillez si besoin : surface habitable, surface annexes (garage, terrasse...), emprise au sol, hauteur sous plafond...

Exemple : &quot;120m¬≤ habitables sur 2 niveaux + garage 20m¬≤ + terrasse 15m¬≤&quot;"></textarea>
            </div>
            
            <div class="info-box" style="margin-top: 20px;">
                <strong>‚ÑπÔ∏è Information r√©glementaire</strong><br>
                Surface ‚â• 150m¬≤ : Recours √† un architecte obligatoire par la loi<br>
                Surface < 20m¬≤ : Possibilit√© de d√©claration pr√©alable
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(3)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(5)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 5 : Budget (Double slider) -->
        <div class="screen" id="screen-5">
            <div class="progress-text">Question 5 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 71%"></div>
            </div>
            
            <h2>Quel est votre budget travaux envisag√© ?</h2>
            
            <div class="info-box">
                üí° D√©finissez une <strong>fourchette budg√©taire</strong> (minimum - maximum) pour que nous puissions vous recommander des experts adapt√©s.
            </div>
            
            <div class="budget-display">
                <div class="budget-item budget-min">
                    <div class="budget-label">Budget MINIMUM</div>
                    <div class="budget-value" id="budget-min-display">100 000 ‚Ç¨</div>
                </div>
                <div class="budget-arrow">‚Üí</div>
                <div class="budget-item budget-max">
                    <div class="budget-label">Budget MAXIMUM</div>
                    <div class="budget-value" id="budget-max-display">180 000 ‚Ç¨</div>
                </div>
            </div>
            
            <div class="slider-wrapper">
                <input type="range" class="slider" id="budget-min" min="0" max="1000000" step="5000" value="100000"
                       oninput="updateBudget('min', this.value)">
                <input type="range" class="slider" id="budget-max" min="0" max="1000000" step="5000" value="180000"
                       oninput="updateBudget('max', this.value)" style="margin-top: 10px;">
                <div class="slider-labels">
                    <span>0 ‚Ç¨</span>
                    <span>250k ‚Ç¨</span>
                    <span>500k ‚Ç¨</span>
                    <span>1M+ ‚Ç¨</span>
                </div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" class="checkbox" id="budget-unknown" onchange="toggleBudgetUnknown(this)">
                <label for="budget-unknown" class="checkbox-label">
                    ü§∑ Je ne connais pas encore mon budget pr√©cis
                </label>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ Pr√©cisions sur votre budget (optionnel)</div>
                <textarea id="budget-details" placeholder="Avez-vous d√©j√† obtenu des devis ? Votre budget est-il fixe ou flexible ? Incluez-vous le terrain, les honoraires, les raccordements ?

Exemple : &quot;Budget de 180k‚Ç¨ hors terrain, pr√™t valid√©, flexible +/- 15k‚Ç¨&quot;"></textarea>
            </div>
            
            <div class="privacy-note">
                üîí Ces informations restent strictement confidentielles
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(4)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(6)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 6 : D√©lai -->
        <div class="screen" id="screen-6">
            <div class="progress-text">Question 6 sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 85%"></div>
            </div>
            
            <h2>Quand souhaitez-vous d√©marrer les travaux ?</h2>
            
            <div class="button-group" id="delai-buttons">
                <div class="choice-button" onclick="selectChoice(this, 'delai', 'Urgent')">
                    <span class="emoji">üöÄ</span>
                    <span>Urgent (< 3 mois)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'delai', 'Cette ann√©e')">
                    <span class="emoji">üìÖ</span>
                    <span>Cette ann√©e (3-12 mois)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'delai', 'Pas press√©')">
                    <span class="emoji">üóìÔ∏è</span>
                    <span>Pas press√© (> 12 mois)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'delai', 'Estimation')">
                    <span class="emoji">üí≠</span>
                    <span>Juste une estimation pour l'instant</span>
                </div>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ Contraintes de timing particuli√®res ? (optionnel)</div>
                <textarea id="delai-details" placeholder="Y a-t-il des √©ch√©ances importantes ? (rentr√©e scolaire, fin de bail, saison cyclonique...)

Exemple : &quot;Nous souhaitons emm√©nager avant la rentr√©e scolaire 2026&quot;"></textarea>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(5)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="checkTerrainNeeded()">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 7 : Terrain (conditionnel) -->
        <div class="screen" id="screen-7">
            <div class="progress-text">Question 6bis sur 7</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 85%"></div>
            </div>
            
            <h2>Avez-vous d√©j√† un terrain ?</h2>
            
            <div class="button-group" id="terrain-buttons">
                <div class="choice-button" onclick="selectChoice(this, 'terrain', 'Acquis')">
                    <span class="emoji">‚úÖ</span>
                    <span>Oui, terrain acquis</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'terrain', 'Compromis')">
                    <span class="emoji">üìÑ</span>
                    <span>Compromis sign√© (acquisition en cours)</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'terrain', 'Recherche')">
                    <span class="emoji">üîç</span>
                    <span>Non, je cherche encore</span>
                </div>
                <div class="choice-button" onclick="selectChoice(this, 'terrain', 'Autre')">
                    <span class="emoji">üèöÔ∏è</span>
                    <span>Autre situation (pr√©ciser ci-dessous)</span>
                </div>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üí¨ D√©tails sur votre terrain ou construction existante</div>
                <textarea id="terrain-details" rows="6" placeholder="Pour un TERRAIN :
‚Ä¢ Surface, pente, viabilisation, acc√®s, CU, v√©g√©tation...

Pour une CONSTRUCTION EXISTANTE :
‚Ä¢ Ann√©e, type, √©tat, plans, diagnostics...

Exemple : &quot;Terrain 650m¬≤ en pente 10%, non viabilis√©, acc√®s direct route communale&quot;"></textarea>
            </div>
            
            <div class="section-divider">
                <div class="section-title">üìÑ Documents dont vous disposez (optionnel)</div>
                <div class="document-checkboxes">
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc1">
                        <label for="doc1">Plan de bornage (g√©om√®tre)</label>
                    </div>
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc2">
                        <label for="doc2">Plan topographique</label>
                    </div>
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc3">
                        <label for="doc3">Certificat d'urbanisme (CU)</label>
                    </div>
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc4">
                        <label for="doc4">Plans de la construction existante</label>
                    </div>
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc5">
                        <label for="doc5">Diagnostics techniques</label>
                    </div>
                    <div class="document-checkbox-item">
                        <input type="checkbox" id="doc6">
                        <label for="doc6">√âtude de sol (G1 ou G2)</label>
                    </div>
                </div>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goToScreen(6)">‚Üê Retour</button>
                <button class="nav-button-next" onclick="goToScreen(8)">Suivant ‚Üí</button>
            </div>
        </div>
        
        <!-- √âCRAN 8 : Contact -->
        <div class="screen" id="screen-8">
            <div class="progress-text">Derni√®re √©tape !</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
            
            <h2>Vos coordonn√©es pour recevoir vos recommandations</h2>
            
            <input type="text" class="input-field" id="prenom" placeholder="Pr√©nom *">
            <input type="text" class="input-field" id="nom" placeholder="Nom *">
            <input type="email" class="input-field" id="email" placeholder="Email *">
            <input type="tel" class="input-field" id="telephone" placeholder="T√©l√©phone (optionnel)">
            
            <div class="help-text">
                ‚òéÔ∏è Le t√©l√©phone est optionnel, mais facilite la prise de contact rapide.
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" class="checkbox" id="email-copy" checked>
                <label for="email-copy" class="checkbox-label">
                    üìß Recevoir aussi une copie par email
                </label>
            </div>
            
            <button class="primary-button" onclick="submitForm()">
                <span>Voir mes recommandations</span>
                <span>‚ú®</span>
            </button>
            
            <div class="privacy-note">
                üîí Vos donn√©es sont prot√©g√©es et ne seront utilis√©es que pour ce projet.
            </div>
            
            <div class="nav-buttons">
                <button class="nav-button-back" onclick="goBackFromContact()">‚Üê Retour</button>
            </div>
        </div>
        
        <!-- √âCRAN 9 : R√©sultat (simplifi√©) -->
        <div class="screen" id="screen-9">
            <div class="logo">EXPERBAT</div>
            
            <h2>‚úÖ Votre projet en r√©sum√©</h2>
            
            <div class="result-summary" id="result-summary">
                <!-- Sera rempli dynamiquement -->
            </div>
            
            <div class="info-box">
                <strong>üí° Prochaine √©tape</strong><br><br>
                Dans la version compl√®te, vous verrez ici :
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>Un conseil personnalis√© g√©n√©r√© par IA</li>
                    <li>3 experts recommand√©s avec leurs profils</li>
                    <li>Un calendrier pour prendre RDV directement</li>
                </ul>
            </div>
            
            <button class="primary-button" onclick="goToScreen(0); resetForm();">
                <span>Recommencer le parcours</span>
                <span>üîÑ</span>
            </button>
        </div>
    </div>
    
    <script>
        // √âtat global de l'application
        const formData = {
            type: '',
            typeDetails: '',
            avancement: '',
            avancementDetails: '',
            localisation: '',
            adressePrecise: '',
            contraintes: '',
            surface: 120,
            surfaceDetails: '',
            budgetMin: 100000,
            budgetMax: 180000,
            budgetUnknown: false,
            budgetDetails: '',
            delai: '',
            delaiDetails: '',
            terrain: '',
            terrainDetails: '',
            documents: [],
            prenom: '',
            nom: '',
            email: '',
            telephone: '',
            emailCopy: true
        };
        
        // Navigation entre √©crans
        function goToScreen(screenNumber) {
            // Sauvegarder les donn√©es avant de changer d'√©cran
            saveCurrentScreenData();
            
            // Masquer tous les √©crans
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => screen.classList.remove('active'));
            
            // Afficher l'√©cran demand√©
            const targetScreen = document.getElementById(`screen-${screenNumber}`);
            if (targetScreen) {
                targetScreen.classList.add('active');
                window.scrollTo(0, 0);
            }
        }
        
        // S√©lection de choix (boutons)
        function selectChoice(button, field, value) {
            // D√©s√©lectionner tous les boutons du groupe
            const group = button.parentElement;
            const buttons = group.querySelectorAll('.choice-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            // S√©lectionner le bouton cliqu√©
            button.classList.add('selected');
            
            // Sauvegarder la valeur
            formData[field] = value;
        }
        
        // Mise √† jour budget
        function updateBudget(type, value) {
            value = parseInt(value);
            
            if (type === 'min') {
                if (value < formData.budgetMax) {
                    formData.budgetMin = value;
                    document.getElementById('budget-min-display').textContent = formatCurrency(value);
                } else {
                    document.getElementById('budget-min').value = formData.budgetMin;
                }
            } else {
                if (value > formData.budgetMin) {
                    formData.budgetMax = value;
                    document.getElementById('budget-max-display').textContent = formatCurrency(value);
                } else {
                    document.getElementById('budget-max').value = formData.budgetMax;
                }
            }
        }
        
        // Formatage devise
        function formatCurrency(value) {
            return new Intl.NumberFormat('fr-FR', {
                style: 'currency',
                currency: 'EUR',
                maximumFractionDigits: 0
            }).format(value);
        }
        
        // Toggle budget inconnu
        function toggleBudgetUnknown(checkbox) {
            const sliderMin = document.getElementById('budget-min');
            const sliderMax = document.getElementById('budget-max');
            
            formData.budgetUnknown = checkbox.checked;
            sliderMin.disabled = checkbox.checked;
            sliderMax.disabled = checkbox.checked;
        }
        
        // V√©rifier si question terrain n√©cessaire
        function checkTerrainNeeded() {
            if (formData.type === 'Construction neuve') {
                goToScreen(7);
            } else {
                goToScreen(8);
            }
        }
        
        // Retour depuis contact
        function goBackFromContact() {
            if (formData.type === 'Construction neuve') {
                goToScreen(7);
            } else {
                goToScreen(6);
            }
        }
        
        // Sauvegarder les donn√©es de l'√©cran actuel
        function saveCurrentScreenData() {
            // Type
            const typeDetails = document.getElementById('type-details');
            if (typeDetails) formData.typeDetails = typeDetails.value;
            
            // Avancement
            const avancementDetails = document.getElementById('avancement-details');
            if (avancementDetails) formData.avancementDetails = avancementDetails.value;
            
            // Localisation
            const localisation = document.getElementById('localisation');
            if (localisation) formData.localisation = localisation.value;
            
            const adressePrecise = document.getElementById('adresse-precise');
            if (adressePrecise) formData.adressePrecise = adressePrecise.value;
            
            const contraintes = document.getElementById('contraintes');
            if (contraintes) formData.contraintes = contraintes.value;
            
            // Surface
            const surface = document.getElementById('surface');
            if (surface) formData.surface = surface.value;
            
            const surfaceDetails = document.getElementById('surface-details');
            if (surfaceDetails) formData.surfaceDetails = surfaceDetails.value;
            
            // Budget
            const budgetDetails = document.getElementById('budget-details');
            if (budgetDetails) formData.budgetDetails = budgetDetails.value;
            
            // D√©lai
            const delaiDetails = document.getElementById('delai-details');
            if (delaiDetails) formData.delaiDetails = delaiDetails.value;
            
            // Terrain
            const terrainDetails = document.getElementById('terrain-details');
            if (terrainDetails) formData.terrainDetails = terrainDetails.value;
            
            // Documents
            const docs = [];
            for (let i = 1; i <= 6; i++) {
                const checkbox = document.getElementById(`doc${i}`);
                if (checkbox && checkbox.checked) {
                    docs.push(checkbox.nextElementSibling.textContent);
                }
            }
            formData.documents = docs;
            
            // Contact
            const prenom = document.getElementById('prenom');
            if (prenom) formData.prenom = prenom.value;
            
            const nom = document.getElementById('nom');
            if (nom) formData.nom = nom.value;
            
            const email = document.getElementById('email');
            if (email) formData.email = email.value;
            
            const telephone = document.getElementById('telephone');
            if (telephone) formData.telephone = telephone.value;
            
            const emailCopy = document.getElementById('email-copy');
            if (emailCopy) formData.emailCopy = emailCopy.checked;
        }
        
        // Soumettre le formulaire
        function submitForm() {
            saveCurrentScreenData();
            
            // Validation basique
            if (!formData.prenom || !formData.nom || !formData.email) {
                alert('Veuillez remplir tous les champs obligatoires (Pr√©nom, Nom, Email)');
                return;
            }
            
            // G√©n√©rer le r√©sum√©
            generateSummary();
            
            // Afficher l'√©cran r√©sultat
            goToScreen(9);
        }
        
        // G√©n√©rer le r√©sum√©
        function generateSummary() {
            const summary = document.getElementById('result-summary');
            
            let html = '';
            
            if (formData.type) {
                html += `<div class="result-item"><span class="result-label">Type</span><span class="result-value">${formData.type}</span></div>`;
            }
            
            if (formData.avancement) {
                html += `<div class="result-item"><span class="result-label">Avancement</span><span class="result-value">${formData.avancement}</span></div>`;
            }
            
            if (formData.localisation) {
                html += `<div class="result-item"><span class="result-label">Localisation</span><span class="result-value">${formData.localisation}</span></div>`;
            }
            
            if (formData.surface) {
                html += `<div class="result-item"><span class="result-label">Surface</span><span class="result-value">${formData.surface} m¬≤</span></div>`;
            }
            
            if (!formData.budgetUnknown) {
                html += `<div class="result-item"><span class="result-label">Budget</span><span class="result-value">${formatCurrency(formData.budgetMin)} - ${formatCurrency(formData.budgetMax)}</span></div>`;
            } else {
                html += `<div class="result-item"><span class="result-label">Budget</span><span class="result-value">√Ä d√©finir</span></div>`;
            }
            
            if (formData.delai) {
                html += `<div class="result-item"><span class="result-label">D√©lai</span><span class="result-value">${formData.delai}</span></div>`;
            }
            
            if (formData.terrain && formData.type === 'Construction neuve') {
                html += `<div class="result-item"><span class="result-label">Terrain</span><span class="result-value">${formData.terrain}</span></div>`;
            }
            
            html += `<div class="result-item"><span class="result-label">Contact</span><span class="result-value">${formData.prenom} ${formData.nom}</span></div>`;
            html += `<div class="result-item"><span class="result-label">Email</span><span class="result-value">${formData.email}</span></div>`;
            
            summary.innerHTML = html;
        }
        
        // R√©initialiser le formulaire
        function resetForm() {
            // R√©initialiser toutes les donn√©es
            for (let key in formData) {
                if (Array.isArray(formData[key])) {
                    formData[key] = [];
                } else if (typeof formData[key] === 'boolean') {
                    formData[key] = false;
                } else if (typeof formData[key] === 'number') {
                    formData[key] = key === 'surface' ? 120 : key === 'budgetMin' ? 100000 : 180000;
                } else {
                    formData[key] = '';
                }
            }
            
            // R√©initialiser les champs visuels
            document.querySelectorAll('.choice-button').forEach(btn => btn.classList.remove('selected'));
            document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea').forEach(input => input.value = '');
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            
            // R√©initialiser les sliders
            document.getElementById('budget-min').value = 100000;
            document.getElementById('budget-max').value = 180000;
            document.getElementById('budget-min-display').textContent = '100 000 ‚Ç¨';
            document.getElementById('budget-max-display').textContent = '180 000 ‚Ç¨';
            document.getElementById('surface').value = 120;
            document.getElementById('surface-slider').value = 120;
        }
        
        // Sauvegarder dans localStorage (optionnel, pour persistance)
        function saveToLocalStorage() {
            localStorage.setItem('experbat-form', JSON.stringify(formData));
        }
        
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('experbat-form');
            if (saved) {
                Object.assign(formData, JSON.parse(saved));
            }
        }
        
        // Charger les donn√©es au d√©marrage
        // loadFromLocalStorage();
    </script>
</body>
</html>